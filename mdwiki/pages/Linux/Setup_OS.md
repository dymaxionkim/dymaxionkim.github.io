# Setup_OS

## 서두
* 오픈소스 툴체인을 완성하기 위해서는 리눅스를 필수적으로 사용해야 한다고 보는게 편합니다.
* 그러나, 회사의 업무환경 및 3D CAD 소프트웨어가 윈도우즈 환경에서만 가능한 경우가 많기 때문에, 업무용 PC를 완전히 리눅스로 바꾸는 것은 현실적으로 어렵습니다.
* 대신 기존에 사용하는 윈도우PC에 VirtualBox를 사용하여 가상 리눅스 환경을 만들어 사용하는 것이 현실적이라고 사료됩니다.  물론 별도의 전용 리눅스PC를 마련해서 해석 전용으로 운용할 수 있다면 더 좋을 것입니다.
* 본 설명서에서는 일단 VirtualBox 가상머신을 사용하는 경우를 상정하겠습니다.

## PC의 사양
* 일단 RAM 용량은 무조건 많이 확보하는 것이 좋겠습니다.  (최소 8GB 이상)
* 그래픽카드는 물론 3D 작업을 위해 NVIDIA Quadro 류의 좋은 제품을 사용하는 것이 좋겠습니다.  그러나 VirtualBox 가상머신에서 돌아가는 리눅스 환경은 그래픽카드와 전연 관련이 없습니다.  VirtualBox는 그래픽카드까지도 가상화된 것이기 때문에 실제 달려 있는 그래픽카드의 자원을 활용하지는 못하기 때문입니다.
* 그러나 가상머신이 아니고, 전용으로 리눅스를 통째로 설치해서 사용할 경우에는 가급적 그래픽카드 드라이버가 큰 문제없이 돌아가는 Intel 내장 그래픽이나, 또는 NVIDIA 계열 제품을 사용하면 최대한의 성능을 끌어낼 수 있습니다.
* CPU는 당연히 코어 숫자가 많고 퍼포먼스가 좋을수록 더 좋습니다.  FEM 해석을 실시할 때 코어를 더 할당할 수 있으면 계산시간을 크게 줄일 수 있습니다.  따라서 8개의 하이퍼스레딩 코어가 제공되는 Intel i7 CPU가 가장 좋겠습니다.  물론 돈이 많다면 2개 이상의 CPU를 넣는 전용 워크스테이션 기계가 있다면 좋겠지만 꼭 그런식으로 과잉 투자할 필요는 없다고 생각됩니다.  PC라는게 몇년만 지나면 새걸로 바꿔줘야 하는 일종의 소모품이기 때문에, 차라리 가장 많이들 사용하는 무난한 체급이 투자 대비 효과성을 가장 높이 볼 수 있다고 생각됩니다.

## 윈도우 환경
* 아직은 회사에서 보통 윈도우7 내지는 윈도우8.1 정도를 사용할 것입니다. 물론 윈도우10이라도 별 상관 없다고 생각됩니다.
* 리눅스 가상머신을 위해 하드디스크 공간을 20GB 정도 확보하고 있는지만 확인합시다.

## 리눅스 배포판 선택
* 보통 리눅스를 처음 사용한다고 하면, Ubuntu, Mint 같은 배포판들이 추천됩니다.  그러나 이것들의 UI 환경은 너무 무거운 감이 있기 때문에 쓸데없이 PC의 자원을 낭비하는 것 같습니다.  리눅스OS 자체적으로 사용하는 자원은 최소한으로 쥐어짜고 메모리 용량을 최대한 활용하는 것이 좋겠습니다.
* 따라서 본 가이드에서는 Ubuntu Server 배포판(그래픽 환경이 없는 것)을 기반으로, 그 위에 X윈도우 환경을 직접 쌓아올려주는 방식을 사용하도록 하겠습니다.  윈도우 매니저는 가장 가벼운 것 중의 하나인 OpenBox를 사용합니다.
* 이렇게 구성을 하면, 삽질을 좀 하는 대신에 리눅스 시스템을 좀 더 잘 이해할 수 있고, 또 리눅스 부팅후 점유하는 메모리가 겨우 200~300MB 정도 수준에 불과하기 때문에 굉장히 가볍고 빠릿빠릿하며 안정적인 시스템을 얻을 수 있습니다.
* 설치하는 리눅스는 반드시 64bit 버전으로 합니다.  32bit 버전의 배포판을 사용하면 FEM 해석용 소프트웨어가 제대로 동작하지 않게 됩니다.  (오픈소스 해석 소프트웨어가 주로 사용하는 포트란 라이브러리 중에서 32bit로 컴파일된 것이 제공되지 않는 경우가 많습니다.)

## VirtualBox 다운로드 및 설치
* https://www.virtualbox.org/ 으로 가서 다운로드 받은 후, 윈도우PC에 설치합니다.

## Ubuntu Server 다운로드
* http://www.ubuntu.com/download/server 에서 Ubuntu Server를 다운로드 받습니다.
* 2015.11.25일 현재, 14.04.3 LTS 버전과 15.10 버전이 제공되고 있는데, *.10 버전은 지원기간이 짧기 때문에 14.04 버전을 선택해서 다운로드 받는 것이 좋겠습니다.  나중(2016년 중반)에 16.04 버전이 나오면 그때 업그레이드를 하거나 하면 될 것입니다.
* X윈도우 부분이 빠진 서버 운용체제이기 때문에, 다운로드 용량은 600MB 미만으로 작은 편입니다.  파일은 *.iso로 CD이미지 파일로 제공됩니다.
* 이제 *.iso 파일을 받았으면 이것을 VirtualBox 가상머신을 만들어주고 거기에 설치하면 됩니다.

## VirtualBox에 Ubuntu Server 설치
* VirtualBox를 일단 실행시키고, '파일-환경설정-팝업창뜨면-일반'메뉴로 들어갑니다.  여기서 가상머신 파일의 경로를 확인하고 원하는대로 정해 줍니다.  나머지는 건드릴 필요 없습니다.
* 그리고 이제 '새로만들기' 아이콘을 눌러서 새로운 가상머신을 생성해 줍니다.  '이름'은 'UbuntuBang'정도로 적당히 정해주면 되고, '종류'는 'Linux'로, '버전'은 'Ubuntu(64bit)'로 해 줍니다.
* 이제 '다음' 버튼을 눌러서 넘어가면 메모리 용량을 정해주는 팝업창이 뜹니다.  메모리는 일단 2048MB로 잡아줍니다.  나중에 사용하다가 메모리가 부족하다면 설정을 바꿔주기만 하면 됩니다.
* 이제 '다음' 버튼을 눌러서 넘어가면 하드디스크를 정해주는 팝업창이 뜹니다.  '지금 새 가상 하드디스크 만들기'를 체크해줍니다.
* '다음'으로 넘어가서 하드디스 파일 종류를 'VDI'로 정해줍니다.
* '다음'으로 넘어가서 '고정 크기'로 정해줍니다.  '동적 할당'을 선택해도 무방하겠지만 아무래도 퍼포먼스가 좀 떨어진다고 합니다.
* '다음'으로 넘어가서 파일 위치가 원하는대로 잘 잡혀있는지 확인하고, 파일 크기를 정해줍니다.  본 가이드를 통해서 구성되는 시스템이 잡아먹는 용량은 별로 안 큽니다.  그러나 너무 작게 잡아놓으면 나중에 후회할 수 있으므로, 최소 10GB 정도 잡아주는 것이 좋겠습니다.  충분히 여유있게 잡아줘도 좋긴 한데, 실제 작업한 데이타는 윈도우시스템 쪽과 공유해서 다룰 수 있도록 해 주기 위해 공유할 것이므로, 리눅스 쪽에는 데이타 저장 공간을 별로 고려할 필요는 없다고 생각됩니다.
* '만들기' 버튼을 누르면 시간이 좀 소요된 후 파일이 생성됩니다.
* 그럼 VirtualBox에 새로 만든 가상머신을 선택할 수 있습니다.  마우스를 한 번 눌러줘서 선택한 상태로 한 후, '설정' 아이콘을 눌러서 이 가상머신의 사양을 좀 만져주도록 합시다.
* '일반-고급'으로 들어가서, '클립보드 공유', '드래그 엔 드롭'을 모두 '양방향'으로 설정해 줍니다.  이렇게 하면 윈도우와 리눅스 양쪽으로 클립보드 복사 같은걸 할 수 있게 됩니다.  물론 완벽하지는 않습니다(VirtualBox 버그).  그래도 아쉬운대로 일단 되는게 어딥니까.
* 그리고 '시스템-마더보드'로 들어가서, 부팅순서 카테고리에서 '플로피디스크'는 불필요하므로 Uncheck 합니다.
* '시스템-프로세서'로 들어가서, '프로세서 개수'는 일단 2개만 잡아줍니다.  'PAE/NX 사용하기'라는 것도 체크해 주면 나쁠 것 없겠습니다.
* '디스플레이-화면'으로 들어가서, '비디오 메모리'는 128MB의 최대로 잡아줍니다.  '3차원 가속 사용하기'는 체크해도 되긴 한데, 일단은 체크하지 말도록 합니다.  3차원 가속 기능이 아직 완전하지는 않아서, 일부 어플리케이션이 제대로 동작하지 않는 경우가 있습니다(LightTable등).  '2차원 비디오 가속' 기능은 아예 Uncheck 합니다.  역시 버그 때문에 제대로 동작하지 않습니다.  없는 기능으로 생각하는게 마음 편합니다.
* '저장소' 메뉴로 들어갑니다.  광학드라이브를 누르면 우측에 속성을 정해줄 수 있습니다.  'IDE 세컨더리 마스터'라는 문구 옆에 CD모양 아이콘을 눌러줍니다.  여기서 '가상 광학 디스크 파일 선택'을 눌러주고, 아까 다운로드 받은 Ubuntu Server의 *.iso 파일을 선택해 줍니다.  즉 가상머신의 가상CD롬 드라이브에 Ubuntu Server 설치 CD를 미리 넣어두는 것과 같은 이야기죠.  앞서 부팅순서에서 CD롬이 맨 먼저 부팅되도록 되어 있으므로, 이렇게 해 두고 시작을 하면 가상CD롬 드라이브의 Ubuntu Server 설치 CD로 부팅이 되면서 설치가 이루어질 수 있도록 된다는 것입니다.
* '네트워크-어댑터1'으로 들어가서, '브리지 어댑터'를 선택합니다.  브리지 어댑터를 선택할 경우, 가상머신상의 리눅스에서 어떤 웹서버 같은 것을 동작시켜주면 외부에서 접근이 가능해지기 때문입니다.  'NAT'를 선택하면 이것이 안됩니다.
* '공유폴더'는 여기서 설정해 주고 들어가도 되긴 하는데, 이렇게 할 경우 리눅스 쪽에서 접근할 때 root 권한이 있어야만 사용가능해 집니다.  차라리 이것을 사용하지 않고 다른 방법으로 SMB 서비스 접근하는 쪽이 나을 수도 있습니다.  일단은 체크하지 말고 그냥 둡니다.
* '확인'하고 설정을 완료합니다.
* 이제 VirtualBox에서 '시작' 아이콘을 누르면 가상머신이 작동됩니다.  부팅되면서 앞서 설정한대로 Ubuntu Server 가상 설치 CD가 로딩되면서 부팅됩니다.  이후부터는 Ubuntu Server 설치 프로세스로 들어가게 됩니다.
*


## VirtualBox Guest 확장 설치

## X-Window 환경 구성





